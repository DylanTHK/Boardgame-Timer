<!DOCTYPE html>
<html>
<head>
  <title>Turn-based Timer</title>
</head>
<body>

<label for="numPlayers">Number of Players:</label>
<select id="numPlayers">
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
</select>
<button id="startBtn">Start Game</button>
<button id="pauseBtn" disabled>Pause Game</button>
<button id="nextPlayerBtn" disabled>Next Player</button>
<button id="endBtn" disabled>End Game</button>

<div id="players"></div>
<div id="timer"></div>

<script>
// Initialize variables
let currentPlayer = 1; // Player 1 starts
let numPlayers = 2; // Default number of players
let timeLeft = 10; // Time limit for each turn (in seconds)
let timerInterval;
let gamePaused = false;

// Function to start the timer for the current player's turn
function startTimer() {
  clearInterval(timerInterval); // Clear any existing interval
  timerInterval = setInterval(() => {
    if (!gamePaused) {
      // Display the remaining time
      document.getElementById('timer').textContent = `Player ${currentPlayer}'s Turn: ${timeLeft} seconds left`;

      // Decrease time left
      timeLeft--;

      // If time is up, switch to the next player's turn
      if (timeLeft < 0) {
        switchPlayer();
      }
    }
  }, 1000); // Update the timer every second
}

// Function to switch to the next player's turn
function switchPlayer() {
  // Reset time left
  timeLeft = 10;

  // Switch to the next player
  currentPlayer = (currentPlayer % numPlayers) + 1;

  // Stop the timer interval
  clearInterval(timerInterval);

  // Start the timer for the next player
  startTimer();

  // Update player visualization
  updatePlayerVisual();
}

// Function to update player visualization
function updatePlayerVisual() {
  document.getElementById('players').textContent = `Current Player: ${currentPlayer}`;
}

// Event listener for the start button
document.getElementById('startBtn').addEventListener('click', () => {
  numPlayers = parseInt(document.getElementById('numPlayers').value); // Get number of players from input
  currentPlayer = 1; // Reset to player 1
  startTimer();
  updatePlayerVisual();
  document.getElementById('startBtn').disabled = true;
  document.getElementById('pauseBtn').disabled = false;
  document.getElementById('endBtn').disabled = false;
});

// Event listener for the pause button
document.getElementById('pauseBtn').addEventListener('click', () => {
  gamePaused = !gamePaused;
  document.getElementById('pauseBtn').textContent = gamePaused ? 'Resume Game' : 'Pause Game';
});

// Event listener for the next player button
document.getElementById('nextPlayerBtn').addEventListener('click', () => {
  switchPlayer();
});

// Event listener for the end game button
document.getElementById('endBtn').addEventListener('click', () => {
  clearInterval(timerInterval);
  document.getElementById('timer').textContent = 'Game ended.';
  document.getElementById('startBtn').disabled = false;
  document.getElementById('pauseBtn').disabled = true;
  document.getElementById('nextPlayerBtn').disabled = true;
  document.getElementById('endBtn').disabled = true;
});
</script>

</body>
</html>
